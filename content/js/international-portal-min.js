!function(){"use strict";angular.module("internationalPortal.showcase",[])}(),function(){"use strict";function t(t,e){function n(){p.apiDemoTitle="Countries";var e=t.getCountries();e.then(function(t){p.countries=t,p.apiData=angular.copy(t)})}function a(){p.apiDemoTitle="Brands",p.selection.brand=null,p.selection.modelRange=null,p.selection.generationMark=null,p.selection.derivative=null,p.selection.pricelist=null,p.selection.dataType=null,p.apiData=null;var e=t.getBrands(p.selection.country.countryCode);e.then(function(t){p.brands=t,p.apiData=angular.copy(t)})}function o(){p.apiDemoTitle="Model Ranges",p.selection.modelRange=null,p.selection.generationMark=null,p.selection.derivative=null,p.selection.pricelist=null,p.selection.dataType=null,p.apiData=null;var e=t.getModelRanges(p.selection.brand.brandId);e.then(function(t){p.modelRanges=t,p.apiData=angular.copy(t)})}function r(){p.apiDemoTitle="Generation Marks",p.selection.generationMark=null,p.selection.derivative=null,p.selection.pricelist=null,p.selection.dataType=null,p.apiData=null;var e=t.getGenerationMarks(p.selection.modelRange.modelRangeId);e.then(function(t){p.generationMarks=t,p.apiData=angular.copy(t)})}function s(){p.apiDemoTitle="Derivatives",p.selection.derivative=null,p.selection.pricelist=null,p.selection.dataType=null,p.apiData=null;var e=t.getDerivatives(p.selection.generationMark.generationMarkId);e.then(function(t){p.derivatives=t,p.apiData=angular.copy(t)})}function i(){p.apiDemoTitle="Vehicle Data";var e=t.getVehicleData(p.selection.derivative.derivativeId);e.then(function(t){p.apiData=angular.copy(t)}),l()}function l(){p.apiDemoTitle="Price Lists";var e=t.getPriceLists(p.selection.derivative.derivativeId);e.then(function(t){p.pricelists=t})}function c(){p.apiData=p.selection.pricelist}function u(){p.apiDemoTitle=p.selection.dataType.key+" Data";var e=t.getDataTypeData(p.selection);e.then(function(t){p.apiData=t})}var p=this;p.getBrands=a,p.getModelRanges=o,p.getGenerationMarks=r,p.getDerivatives=s,p.getVehicleData=i,p.getPriceLists=l,p.selectThisPricelist=c,p.getDataTypeData=u,p.brands=[],p.modelRanges=[],p.generationMarks=[],p.derivatives=[],p.pricelists=[],p.apiData=null,p.selection={country:null,brand:null,modelRange:null,generationMark:null,derivative:null,pricelist:null,dataType:null},p.apiDemoTitle="",n(),p.dataTypes=[{key:"Tech",val:"Tech"},{key:"Colours",val:"Colours"},{key:"Equipment",val:"Equipment"}]}angular.module("internationalPortal.showcase").controller("vehicleDataCtrl",t),t.$inject=["dataService","$rootScope"]}(),function(){"use strict";function t(t){var e=this;e.test="Valuations"}angular.module("internationalPortal.showcase").controller("valuationsCtrl",t),t.$inject=["dataService"]}(),function(){"use strict";function t(){return{restrict:"E",scope:{jsonTreeData:"="},link:function(t,e,n){t.dataType=null,t.dataTypeChildren=0,check.array(t.jsonTreeData)&&(t.dataType="array"),check.object(t.jsonTreeData)&&(t.dataType="object"),check.string(t.jsonTreeData)&&(t.dataType="string"),check.number(t.jsonTreeData)&&(t.dataType="number"),null==t.dataType&&(t.dataType="object"),t.hasChildren=function(t){return check.array(t)?!0:!1},t.isHeader=function(t){return check.array(t)||check.object(t)?!0:!1}},templateUrl:"content/app/showcase/jsonTree.directive.view.html"}}angular.module("internationalPortal.showcase").directive("jsonTree",t)}(),function(){"use strict";function t(t,e,n,a,o,r,s){function i(){return C.length}function l(t){if(1!==arguments.length||t)if(t)g(t.toastId);else for(var e=0;e<C.length;e++)g(C[e].toastId)}function c(t,e,n){var a=f().iconClasses.error;return v(a,t,e,n)}function u(t,e,n){var a=f().iconClasses.info;return v(a,t,e,n)}function p(t,e,n){var a=f().iconClasses.success;return v(a,t,e,n)}function d(t,e,n){var a=f().iconClasses.warning;return v(a,t,e,n)}function g(e,n){function a(t){for(var e=0;e<C.length;e++)if(C[e].toastId===t)return C[e]}function o(){return!C.length}var i=a(e);i&&!i.deleting&&(i.deleting=!0,i.isOpened=!1,t.leave(i.el).then(function(){i.scope.options.onHidden&&i.scope.options.onHidden(!!n,i),i.scope.$destroy();var t=C.indexOf(i);delete w[i.scope.message],C.splice(t,1);var e=r.maxOpened;e&&C.length>=e&&C[e-1].open.resolve(),o()&&(T.remove(),T=null,b=s.defer())}))}function v(t,e,n,a){return angular.isObject(n)&&(a=n,n=null),h({iconClass:t,message:e,optionsOverride:a,title:n})}function f(){return angular.extend({},r)}function m(e){if(T)return b.promise;T=angular.element("<div></div>"),T.attr("id",e.containerId),T.addClass(e.positionClass),T.css({"pointer-events":"auto"});var n=angular.element(document.querySelector(e.target));if(!n||!n.length)throw"Target for toasts doesn't exist";return t.enter(T,n).then(function(){b.resolve()}),b.promise}function h(n){function r(){return d.autoDismiss&&d.maxOpened&&C.length>d.maxOpened}function i(t,e,n){function a(e){return n[e]?function(){n[e](t)}:void 0}n.allowHtml?(t.scope.allowHtml=!0,t.scope.title=o.trustAsHtml(e.title),t.scope.message=o.trustAsHtml(e.message)):(t.scope.title=e.title,t.scope.message=e.message),t.scope.toastType=t.iconClass,t.scope.toastId=t.toastId,t.scope.extraData=n.extraData,t.scope.options={extendedTimeOut:n.extendedTimeOut,messageClass:n.messageClass,onHidden:n.onHidden,onShown:a("onShown"),onTap:a("onTap"),progressBar:n.progressBar,tapToDismiss:n.tapToDismiss,timeOut:n.timeOut,titleClass:n.titleClass,toastClass:n.toastClass},n.closeButton&&(t.scope.options.closeHtml=n.closeHtml)}function l(){function t(t){for(var e=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],n=0,a=e.length;a>n;n++)delete t[e[n]];return t}var e={toastId:D++,isOpened:!1,scope:a.$new(),open:s.defer()};return e.iconClass=n.iconClass,n.optionsOverride&&(angular.extend(d,t(n.optionsOverride)),e.iconClass=n.optionsOverride.iconClass||e.iconClass),i(e,n,d),e.el=c(e.scope),e}function c(t){var n=angular.element("<div toast></div>"),a=e.get("$compile");return a(n)(t)}function u(){return d.maxOpened&&C.length<=d.maxOpened||!d.maxOpened}function p(){var t=d.preventDuplicates&&n.message===y,e=d.preventOpenDuplicates&&w[n.message];return t||e?!0:(y=n.message,w[n.message]=!0,!1)}var d=f();if(!p()){var v=l();if(C.push(v),r())for(var h=C.slice(0,C.length-d.maxOpened),b=0,O=h.length;O>b;b++)g(h[b].toastId);return u()&&v.open.resolve(),v.open.promise.then(function(){m(d).then(function(){if(v.isOpened=!0,d.newestOnTop)t.enter(v.el,T).then(function(){v.scope.init()});else{var e=T[0].lastChild?angular.element(T[0].lastChild):null;t.enter(v.el,T,e).then(function(){v.scope.init()})}})}),v}}var T,D=0,C=[],y="",w={},b=s.defer(),O={active:i,clear:l,error:c,info:u,remove:g,success:p,warning:d};return O}angular.module("toastr",[]).factory("toastr",t),t.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,onTap:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function t(t){function e(t,e,n,a){function o(){var t=(i-(new Date).getTime())/s*100;e.css("width",t+"%")}var r,s,i;a.progressBar=t,t.start=function(t){r&&clearInterval(r),s=parseFloat(t),i=(new Date).getTime()+s,r=setInterval(o,10)},t.stop=function(){r&&clearInterval(r)},t.$on("$destroy",function(){clearInterval(r)})}return{replace:!0,require:"^toast",templateUrl:function(){return t.templates.progressbar},link:e}}angular.module("toastr").directive("progressBar",t),t.$inject=["toastrConfig"]}(),function(){"use strict";function t(){this.progressBar=null,this.startProgressBar=function(t){this.progressBar&&this.progressBar.start(t)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",t)}(),function(){"use strict";function t(t,e,n,a){function o(n,o,r,s){function i(t){return s.startProgressBar(t),e(function(){s.stopProgressBar(),a.remove(n.toastId)},t,1)}function l(){n.progressBar=!1,s.stopProgressBar()}function c(){return n.options.closeHtml}var u;if(n.toastClass=n.options.toastClass,n.titleClass=n.options.titleClass,n.messageClass=n.options.messageClass,n.progressBar=n.options.progressBar,c()){var p=angular.element(n.options.closeHtml),d=t.get("$compile");p.addClass("toast-close-button"),p.attr("ng-click","close(true, $event)"),d(p)(n),o.prepend(p)}n.init=function(){n.options.timeOut&&(u=i(n.options.timeOut)),n.options.onShown&&n.options.onShown()},o.on("mouseenter",function(){l(),u&&e.cancel(u)}),n.tapToast=function(){angular.isFunction(n.options.onTap)&&n.options.onTap(),n.options.tapToDismiss&&n.close(!0)},n.close=function(t,e){e&&angular.isFunction(e.stopPropagation)&&e.stopPropagation(),a.remove(n.toastId,t)},o.on("mouseleave",function(){(0!==n.options.timeOut||0!==n.options.extendedTimeOut)&&(n.$apply(function(){n.progressBar=n.options.progressBar}),u=i(n.options.extendedTimeOut))})}return{replace:!0,templateUrl:function(){return n.templates.toast},controller:"ToastController",link:o}}angular.module("toastr").directive("toast",t),t.$inject=["$injector","$interval","toastrConfig","toastr"]}(),angular.module("toastr").run(["$templateCache",function(t){t.put("directives/progressbar/progressbar.html",'<div class="toast-progress"></div>\n'),t.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title}}">{{title}}</div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message}}">{{message}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\n  </div>\n  <progress-bar ng-if="progressBar"></progress-bar>\n</div>\n')}]),function(){"use strict";angular.module("internationalPortal.core",["toastr","ngRoute","jsonFormatter"])}(),function(){"use strict";angular.module("internationalPortal.core").filter("titleCase",function(){return function(t){if("string"==typeof t){var e=t.replace(/([A-Z])/g," $1"),n=e.charAt(0).toUpperCase()+e.slice(1);return n}return t}})}(),function(){"use strict";function t(t){function e(e,n,a){t.error(a,n,{timeOut:1e4}),window.console&&(console.log("technical error details:"),console.log(e))}function n(e,n){t.info(n,e)}function a(e,n){t.success(n,e)}function o(e,n){t.warning(n,e)}return{error:e,info:n,success:a,warning:o}}angular.module("internationalPortal.core").factory("logger",t),t.$inject=["toastr"]}(),function(){"use strict";function t(t,e,n){function a(t,e){return d("http://localhost:50214/api/v0/countries","Error getting countries")}function o(t){return d("http://localhost:50214/api/v0/brands?countryCodes="+t,"Error getting brands for country")}function r(t){return d("http://localhost:50214/api/v0/brands/"+t+"/modelranges","Error getting model ranges for brand")}function s(t){return d("http://localhost:50214/api/v0/modelranges/"+t+"/generations","Error getting generation mark for model range")}function i(t){return d("http://localhost:50214/api/v0/generations/"+t+"/Derivatives","Error getting derivatives for given generation mark")}function l(t){return d("http://localhost:50214/api/v0/Derivatives/"+t,"Error getting derivative data")}function c(){return d("http://localhost:50214/api/v0/derivatives/503668/pricelists/14/Colours","Error getting Pricelists colours")}function u(t){return d("http://localhost:50214/api/v0/derivatives/"+t+"/PriceLists","Error getting Pricelists")}function p(t){return d("http://localhost:50214/api/v0/derivatives/"+t.derivative.derivativeId+"/pricelists/"+t.pricelist.priceListId+"/"+t.dataType.val,"Error getting data")}function d(n,a){var o="user:password";btoa(o);return t({method:"GET",url:n,headers:{Authorization:"Basic dXNlcjpwYXNzd29yZA=="}}).then(function(t){return console.log(t.data),t.data})["catch"](function(t){"object"==typeof t.data?e.error(t.data,"Data Error",a+":\n"+t.data.error):e.error(t.data,"Data Error",a+":\n"+t.data)})}return{getCountries:a,getBrands:o,getModelRanges:r,getGenerationMarks:s,getDerivatives:i,getVehicleData:l,getPricelistsColours:c,getPriceLists:u,getDataTypeData:p}}angular.module("internationalPortal.core").factory("dataService",t),t.$inject=["$http","logger","$q"]}(),function(){"use strict";angular.module("internationalPortal",["internationalPortal.core","internationalPortal.showcase"]).config(function(t,e){t.when("/",{templateUrl:"/views/login.html"}).when("/dashboard",{templateUrl:"/views/dashboard.html"}).when("/vehicle-data",{templateUrl:"/views/vehicle-data.html",controller:"vehicleDataCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/dashboard"})})}();